<!doctype html>
<html lang="en">
<head>
<script type="text/javascript">
function setSettings() {
    safari.application.activeBrowserWindow.activeTab.page
        .dispatchMessage("setSettings", {
                fontSize: safari.extension.settings.getItem("fontSize"),
                textWidth: safari.extension.settings.getItem("textWidth")
            });
}

safari.application.addEventListener("message", 
        function(e) {
            if(e.name == "getSettings") {
                setSettings()
            };
        }, false );

safari.extension.settings.addEventListener('change', 
        function(e){
            setSettings();
        }, false);
</script>
</head>
<body></body>
</html>
